<html>
<head>
  <link href="bootstrap.css" rel="stylesheet" type="text/css"></link>
  <script src="jquery-1.8.2.min.js" type="text/javascript"></script>
  <script src="knockout-2.2.0.js" type="text/javascript"></script>
  <script src="steam_api.js" type="text/javascript"></script>
  <script type="text/javascript">
    AppListViewModel = function() {
      var self = this;

      self.title = ko.observable("houston.js - Knockout Steam");
      self.apps = ko.observableArray([]);

      SteamApi.getAppList(function(data) {
        apps = $.map(data.applist.apps.app.slice(0, 30), function(d) { return new AppViewModel(d); });
        self.apps(apps);
      });

      return self;
    }

    AppViewModel = function(data) {
      var self = this;

      self.id = ko.observable(data.id);
      self.name = ko.observable(data.name);

      return self;
    }

    $(function() {
      var appListViewModel = new AppListViewModel();
      ko.applyBindings(appListViewModel);
    });
    
  </script>
</head>
<body>
    <div class="container">
      <div class="row">
        <div class="span12">
          <div class="page-header">
            <h1 data-bind="text: title"></h1>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="span12">
          <ul data-bind="foreach: apps" class="unstyled">
            <li>
              <h4 data-bind="text: name"></h4>
            </li>
          </ul>     

        </div>
      </div>

    </div>



</body>
</html>