<html>
<head>
  <script src="jquery-1.8.2.min.js" type="text/javascript"></script>
  <script src="knockout-2.2.0.js" type="text/javascript"></script>
  <script src="steam_api.js" type="text/javascript"></script>
  <script type="text/javascript">
    AppListViewModel = function() {
      self = this;

      self.title = ko.observable("App List");
      self.apps = ko.observableArray([]);

      SteamApi.getAppList(function(data) {
        console.log(data);
        apps = $.map(data.applist.apps.app.slice(0, 30), function(d) { return { id: d.appid, name: d.name } });
        console.log(apps);
        self.apps(apps);
      });

      return self;
    }

    $(function() {
      var appListViewModel = new AppListViewModel();
      ko.applyBindings(appListViewModel);
    });
    
  </script>
</head>
<body>
  <h1>houston.js - Knockout Steam</h1>

  <h2 data-bind="text: title"></h2>
  <ul data-bind="foreach: apps">
    <li data-bind="text: name"></li>
  </ul>

</body>
</html>